![Что такое синтетические события (SyntheticEvent) в React?](https://youtu.be/DgevxmyzymQ?t=235)

#### Ответ

![[Pasted image 20230704174242.png|600]]

*Синтетическое событие (SyntheticEvent)* - это перенаправленное браузерное событие, которое обеспечивает кросс-браузерную совместимость и нормализацию поведения браузеров в отношении событий.

Подробнее: [SyntheticEvent](https://ru.legacy.reactjs.org/docs/events.html)

##### `SyntheticEvent`

React использует систему событий, которая основана на *делегировании событий (event delegation)*. При делегировании событий React добавляет обработчики событий на родительские элементы и использует *всплытие событий (event bubbling)*, чтобы обработать события на дочерних элементах.

*Синтетическое событие - это обертка вокруг нативного браузерного события, которая предоставляет нормализованный интерфейс для работы с событиями в React. Он содержит все свойства и методы, доступные в нативном событии, а также дополнительные свойства и методы, которые делают работу с событиями более простой и удобной.*

Например, в синтетическом событии React есть метод `preventDefault()`, который предотвращает выполнение действий по умолчанию при возникновении события, таких как переход по ссылке или отправка формы. Также в синтетическом событии есть метод `stopPropagation()`, который предотвращает всплытие события и останавливает его обработку на текущем элементе.

Синтетические события React используются в обработчиках событий, которые передаются в компоненты React в качестве свойств (props). Например:

```jsx
function handleClick(event) {
  event.preventDefault();
  console.log('The link was clicked.');
}

function MyComponent() {
  return (
    <a href="#" onClick={handleClick}>
      Click me
    </a>
  );
}
```

Здесь обработчик `handleClick` получает синтетическое событие в качестве аргумента `event` и использует его метод `preventDefault()` для предотвращения перехода по ссылке при клике на элемент `<a>`.

##### `event.persist()`

**event.persist()** в React - это метод, который используется для сохранения события SyntheticEvent после его завершения.

Когда обработчик события в React вызывается, объект `SyntheticEvent` создается для представления этого события. Этот объект содержит информацию о событии, такую как тип, цель, данные и т. д. Однако по умолчанию, после завершения обработчика события, объект `SyntheticEvent` становится недоступным и может быть переиспользован для других событий.

Метод `event.persist()` позволяет сохранить объект SyntheticEvent после завершения обработчика события. Это полезно, когда вам нужно продолжить использовать объект SyntheticEvent за пределами обработчика события, например, при асинхронной обработке событий или внутри функций обратного вызова.

Вот пример использования метода `event.persist()` в React:

```jsx
function MyComponent() {
  function handleClick(event) {
    event.persist();
    setTimeout(() => {
      console.log(event.type);
    }, 1000);
  }

  return <button onClick={handleClick}>Click me</button>;
}
```

В этом примере при клике на кнопку будет вызван обработчик `handleClick`. Внутри обработчика мы вызываем `event.persist()`, чтобы сохранить объект SyntheticEvent после завершения обработчика. Затем через 1 секунду мы выводим тип события в консоль, используя сохраненный объект SyntheticEvent.

____
#React #SyntheticEvent #eventDelegation #eventBubbling

____

#### [[004 React + Redux|Назад]]