#### Ответ

Существует 2 основные стадии, которым следует уделять пристальное внимание, когда речь заходит о производительности в `React`:

- первоначальный рендеринг (`initial rendering`) — происходит, когда компонент впервые появляется на экране;
- ререндеринг — второй и последующие рендеринги компонента.

*Ререндер состояния (re-render)* происходит, когда происходит изменение состояния компонента или когда компонент получает новые свойства (props). _Изменения состояния влекут за собой безусловный (непредотвращаемый) ререндеринг_. 

![](https://habrastorage.org/r/w1560/webt/qm/9j/ag/qm9jagqd8_b5ajh_yukyjf9svuc.png)

___
___

*Существует 5 причин, по которым компонент подвергается ререндерингу: **изменение состояния, ререндеринг родительского компонента, изменение контекста, изменение хука и принудительный вызов forceUpdate()**. Существует распространенный миф о том, что ререндеринг происходит также при изменении пропсов - это не так.*

Принудительный вызов `forceUpdate` возможен также и для функциональных компонентов, но для этого нужно смоделировать ситуацию следующим образом:

```jsx
const [, forceUpdate] = useReducer(x => x + 1, 0)

const handleClick = () => {
	setValue((v) => Object.assign(v , { 'new-field' : 'new-field-value' }))
	forceUpdate
}
```

Можно написать кастомный хук на `forceUpdate` = useForceUpdate()

Подробнее: [React: полное руководство по повторному рендерингу](https://habr.com/ru/companies/timeweb/articles/684718/) ,[The Interactive Guide to Rendering in React](https://ui.dev/why-react-renders)

____
#React #render #props #VirtualDOM #forceUpdate 

____

#### [[004 React + Redux|Назад]]
