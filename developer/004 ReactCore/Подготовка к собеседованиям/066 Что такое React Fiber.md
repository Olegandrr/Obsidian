![Что такое React Fiber?](https://youtu.be/RpcB5jnJvcI?t=689)

#### Ответ

![[Pasted image 20230704195043.png|600]]

*Fiber* - это переработанный и улучшенный алгоритм согласования *(reconciliation)* компонентов и обновления DOM-дерева, который разбивает работу на мелкие части (фибры), они могут быть приостановлены и возобновлены по мере необходимости. 

Fiber был введен в React начиная с версии 16 в 2017 году. Он позволил увеличить FPS отображения элементов на экране до 60 кадров в секунду.

*Основная цель React Fiber* - это улучшение производительности React-приложений путем уменьшения времени блокировки главного потока выполнения JavaScript (JavaScript main thread). *Это означает, что React может перераспределять ресурсы процессора между фибрами и использовать дополнительные потоки выполнения для выполнения тяжелых задач.*

*В конкретном смысле, Fiber - это JS-объект, который содержит информацию о компоненте, его входных данных и выходном результате.* 

*Фибры разбиваются и выполняются по приоритету выполнения. Регулирует приоритетность выполнения работ - планировщик Fiber.* Ниже приведены различные типы работ, упорядоченные по приоритету от самого высокого к самому низкому:

1. **Synchronous (Sync)**: *Это самый высокий приоритет. Работы синхронного типа выполняются немедленно, не ожидая прерывания или приостановки.* В основном это включает события браузера, такие как обработчики событий пользовательского ввода (например, клики, наведение курсора). Целью работы синхронного типа является обеспечение отзывчивого пользовательского интерфейса, поэтому они имеют наивысший приоритет.
2. **Task**: Работы типа Task имеют ниже приоритет, чем синхронные работы. *Они представляют асинхронные задачи, такие как обработка сетевых запросов (AJAX), выполнение таймеров или других асинхронных операций.* React Fiber пытается разделить выполнение задач на несколько фаз, чтобы предотвратить блокировку основного потока выполнения и обеспечить плавность работы приложения.
3. **High Priority**: Работы с высоким приоритетом имеют более высокий приоритет, чем работы низкого приоритета, и выполняются после завершения задач и синхронных работ. *Этот тип работы может использоваться для обработки важных событий или изменений данных, которые должны быть обновлены немедленно, но не критичны для отзывчивости пользовательского интерфейса.*
4. **Normal Priority**: Работы типа Normal Priority выполняются после всех задач, синхронных работ и работ с высоким приоритетом. *Они представляют типичные задачи перерисовки компонентов и обновления состояния.* Большинство обычных операций React выполняются с помощью работ нормального приоритета.
5. **Low Priority**: Работы с низким приоритетом имеют наименьший приоритет и выполняются после всех других работ. *Они обычно используются для задач, которые не требуют мгновенной обработки и могут быть отложены до более подходящего момента.* Например, загрузка данных с сервера, предварительное вычисление или другие несрочные операции могут быть запланированы как работы с низким приоритетом.

Подробнее: [React Fiber](https://habr.com/ru/articles/444276/) , [Что такое React Fiber](https://dev.to/jennypollard/chto-takoie-react-fiber-react-fiber-architecture-2cho), [React Fiber. Все только начинается](https://www.youtube.com/watch?v=TYEIovD-llI)

____
#React #fiber #reconciliation #VirtualDOM 

____

#### [[004 React + Redux|Назад]]