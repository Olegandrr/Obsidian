
#### Ответ

*Redux Toolkit* - это библиотека, которая предоставляет набор утилит для упрощения разработки Redux-приложений. Релиз Redux Toolkit состоялся в 2019 году и официально поддерживается разработчиками Redux. 

Redux Toolkit выполняет следующие функции:
- помогает быстро начать использовать Redux;
- упрощает работу с типичными задачами и кодом Redux;
- позволяет использовать лучшие практики Redux по умолчанию;
- предлагает решения, которые уменьшают недоверие к бойлерплейтам.

Вот некоторые основные функции и концепции Redux Toolkit:

- **[#configureStore](https://habr.com/ru/companies/inobitec/articles/481288/#configureStore)**— функция, предназначенная упростить процесс создания и настройки хранилища;
- **[#createReducer](https://habr.com/ru/companies/inobitec/articles/481288/#createReducer)**— функция, помогающая лаконично и понятно описать и создать редьюсер;
- **[#createAction](https://habr.com/ru/companies/inobitec/articles/481288/#createAction)**— возвращает функцию создателя действия для заданной строки типа действия;
- **[#createSlice](https://habr.com/ru/companies/inobitec/articles/481288/#createSlice)**— объединяет в себе функционал createAction и createReducer;
- **createSelector** — функция из библиотеки [Reselect](https://github.com/reduxjs/reselect), переэкспортированная для простоты использования.

Redux Toolkit полностью интегрирован с TypeScript. Более подробную информацию об этом можно получить из раздела [Usage With TypeScript](https://redux-toolkit.js.org/usage/usage-with-typescript/) официальной документации.

Чтобы упростить процесс конфигурации хранилища используют `configureStore()`. Данный инструмент позволяет автоматически комбинировать редьюсеры, добавить мидлвары Redux (по умолчанию включает redux-thunk), а также использовать расширение Redux DevTools. В качестве входных параметров функция configureStore принимает объект со следующими свойствами:

- `reducer` — набор пользовательских редьюсеров,
- `middleware` — опциональный параметр, задающий массив мидлваров, предназначенных для подключения к хранилищу,
- `devTools` — параметр логического типа, позволяющий включить установленное в браузер расширение Redux DevTools (значение по умолчанию — true),
- `preloadedState` — опциональный параметр, задающий начальное состояние хранилища,
- `enhancers` — опциональный параметр, задающий набор усилителей.

Для получения наиболее популярного списка мидлваров можно воспользоваться специальной функцией `getDefaultMiddleware`, также входящей в состав Redux Toolkit. Данная функция возвращает массив с включенными по умолчанию в библиотеку Redux Toolkit мидлварами. Перечень этих мидлваров отличается в зависимости от того, в каком режиме выполняется ваш код. В production режиме массив состоит только из одного элемента — thunk. В режиме development на момент написания статьи список пополняется следующими мидлварами:
- `serializableStateInvariant` — инструмент, специально разработанный для использования в Redux Toolkit и предназначенный для проверки дерева состояний на предмет наличия несериализуемых значений, таких как функции, Promise, Symbol и другие значения, не являющиеся простыми JS-данными;
- `immutableStateInvariant` — мидлвар из пакета [redux-immutable-state-invariant](https://www.npmjs.com/package/redux-immutable-state-invariant), предназначенный для обнаружения мутаций данных, содержащихся в хранилище.

**RTK Query** — это мощный инструмент для получения и кэширования данных. Он предназначен для упрощения распространенных случаев загрузки данных в веб-приложении, избавляя от необходимости вручную писать логику загрузки и кэширования данных.

RTK Query — это дополнительный аддон, включенный в пакет Redux Toolkit, и его функциональность построена поверх других API в Redux Toolkit.

RTK Query из коробки предоставляет все возможности описанные в разделе «ИТАК» данного опуса.

Недостатки:

- Я показал использовании библиотеки на примере хуков. Мой пример относительно файла с API достаточно прост: запросы, мутации — всё рядом. В реальном проекте может быть несколько файлов с различными блоками API, и в этом случае возникает вопрос, как связать всё вместе.
- Проблема решается тем, что все действия по загрузке, мутированию обновлению кэша, инвалидации в RTQ Query могут быть вызваны с использованием dispatch из любого места приложения.
- Система тегов непроста и не так прозрачна, как у альтернатив.


Подробнее: [Redux Toolkit](https://redux-toolkit.js.org/) , [Redux Toolkit как средство эффективной Redux-разработки](https://habr.com/ru/companies/inobitec/articles/481288/) , [Справочник Redux Toolkit](https://reactdev.ru/libs/redux-toolkit/) , [RTK query: что мы от него хотим и зачем](https://habr.com/ru/companies/alfa/articles/705640/)

____
#React #redux #redux-toolkit #configureStore #RTK-Query

____

### [[004 React + Redux|Назад]]