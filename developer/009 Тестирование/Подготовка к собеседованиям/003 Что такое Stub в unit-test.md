
![Что такое Stub в unit тестировании?](https://youtu.be/i96lHslBOIc?t=194)

#### Ответ

##### Теория

В unit-тестировании `Stub` (англ. "заглушка") - это объект, который *заменяет реальный объект, но не имитирует его полностью, а предоставляет только минимальный набор функций, необходимых для тестирования*. Stub обычно используется, когда необходимо создать объект, который зависит от других компонентов, но эти компоненты еще не готовы или не доступны на момент тестирования.

Stub может предоставлять фиктивные данные для тестирования, а также имитировать поведение реального объекта. Однако он не предоставляет полную функциональность реального объекта, а только те методы, которые необходимы для тестирования.

Stub может быть реализован как самостоятельный класс или как часть другого класса. Он может быть создан вручную или с помощью специальных инструментов.

Использование Stub в unit-тестировании позволяет изолировать тестируемый объект от внешних зависимостей и контролировать его поведение в тестовых условиях. Это позволяет улучшить качество и надежность программного обеспечения, а также ускорить процесс тестирования.

##### Практика

Пример использования Stub в unit-тестировании может быть следующим. Представим, что у нас есть класс `OrderService`, который зависит от класса `PaymentService` для обработки платежей. Класс `PaymentService` имеет метод `processPayment`, который принимает на вход сумму платежа и возвращает результат обработки платежа. Для тестирования метода `OrderService.processOrder` нам нужно изолировать его от зависимости от `PaymentService`.

Мы можем создать Stub объект `PaymentService`, который будет имитировать работу реального объекта, но будет возвращать фиктивный результат.

```jsx
class PaymentServiceStub {
  processPayment(amount) {
    return true;
  }
}
```

Затем мы можем создать объект `OrderService` и передать ему в качестве зависимости Stub объект `PaymentServiceStub`.

```jsx
const orderService = new OrderService(new PaymentServiceStub());
```

Теперь мы можем вызвать метод `orderService.processOrder` и убедиться, что он работает правильно, используя Stub объект `PaymentServiceStub`.

```jsx
const orderResult = orderService.processOrder({ amount: 100 });
assert.equal(orderResult, true);
```

Таким образом, использование Stub объекта позволяет нам изолировать тестируемый объект от внешних зависимостей и контролировать его поведение в тестовых условиях.

_____
tags: #testing #unit-test #unit-stub 

____

### [[009 Тестирование|Назад]]