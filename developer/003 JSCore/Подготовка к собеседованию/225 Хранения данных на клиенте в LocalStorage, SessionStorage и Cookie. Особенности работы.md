#### 4. Хранения данных на клиенте в #LocalStorage / #SessionStorage / #Cookie? Особенности работы?  
Подробнее: [[6 LocalStorage, sessionStorage]]

Объекты веб-хранилища #localStorage и #sessionStorage позволяют хранить пары ключ/значение в браузере.

 #sessionStorage   данные, которые в них записаны, сохраняются после обновления страницы
 #localStorage данные, которые в них записаны, сохраняются даже после перезапуска браузера

Объекты хранилища `localStorage` и `sessionStorage` предоставляют одинаковые методы и свойства:
-   `setItem(key, value)` – сохранить пару ключ/значение.
-   `getItem(key)` – получить данные по ключу `key`.
-   `removeItem(key)` – удалить данные с ключом `key`.
-   `clear()` – удалить всё.
-   `key(index)` – получить ключ на заданной позиции.
-   `length` – количество элементов в хранилище.

Ключ и значение должны быть строками. В противном случае они все равно преобразуются в строки.

Используя #localStorage можно решать следующие прикладные задачи:
	1. получать / записывать данные в обычный обьект
	2. перебирать ключи . используя #цикл

#localStorage в синтаксисе идентичен #localStorage , но есть небольшие отличия 
	#sessionStorage существует только в рамках текущей вкладки браузера.
	    -   Другая вкладка с той же страницей будет иметь другое хранилище.
	    -   Но оно разделяется между ифреймами на той же вкладке (при условии, что они из одного и того же источника).
	-   Данные продолжают существовать после перезагрузки страницы, но не после закрытия/открытия вкладки.

Событие storage:
-   Срабатывает при вызове `setItem`, `removeItem`, `clear`.
-   Содержит все данные об произошедшем обновлении (`key/oldValue/newValue`), `url` документа и объект хранилища `storageArea`.
-   Срабатывает на всех объектах `window`, которые имеют доступ к хранилищу, кроме того, где оно было сгенерировано (внутри вкладки для `sessionStorage`, глобально для `localStorage`).

Отличие от #Cookie :
-   В отличие от куки, объекты веб-хранилища не отправляются на сервер при каждом запросе. Именно поэтому мы можем хранить гораздо больше данных. Большинство современных браузеров могут выделить как минимум 5 мегабайтов данных (или больше), и этот размер можно поменять в настройках.
-   Ещё одно отличие от куки – сервер не может манипулировать объектами хранилища через HTTP-заголовки. Всё делается при помощи JavaScript.
-   Хранилище привязано к источнику (домен/протокол/порт). Это значит, что разные протоколы или поддомены определяют разные объекты хранилища, и они не могут получить доступ к данным друг друга.

___
 #JS 

___

### [[003 JSCore|Назад]]