![Что такое замыкание (Closure)?](https://youtu.be/kx3dR6ztICU?t=284)

#### Ответ

Подробнее: [[Замыкание]]

В JavaScript у каждой выполняемой функции, блока кода и скрипта есть связанный с ними внутренний (скрытый) объект, называемый _лексическим окружением_ `LexicalEnvironment`.

Объект лексического окружения состоит из двух частей:
1.  _Environment Record_ – объект, в котором как свойства хранятся все локальные переменные (а также некоторая другая информация, такая как значение `this`).
2.  Ссылка на _внешнее лексическое окружение_ – то есть то, которое соответствует коду снаружи (снаружи от текущих фигурных скобок).

~~~
let phrase = "Hello"

function say(name) {
	alert(`&(phrase).&{name}`)
}

say("John"); // Hello, John
~~~

* Внутреннее лексическое окружение соответствует текущему выполнению `say`.
    В нём находится одна переменная `name`, аргумент функции. Мы вызываем `say("John")`, так что значение переменной `name` равно `"John"`.
-   Внешнее лексическое окружение – это глобальное лексическое окружение.
    В нём находятся переменная `phrase` и сама функция.

[Замыкание](https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D0%BC%D1%8B%D0%BA%D0%B0%D0%BD%D0%B8%D0%B5_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)) – это функция, которая запоминает свои внешние переменные и может получить к ним доступ. Но, как было описано выше, в JavaScript, все функции изначально являются замыканиями.

Другими словами – замыкание возникает в том случае, если мы из одной функции возвращаем новую функцию. Тогда мы говорим, что новая функция замкнута на область видимости родительской.
		Еще проще это функция внутри другой функции

![[Pasted image 20221216134913.png]]
42 000

Функция 1 отработала и вернула нам новую функцию 2, тк 2ая функция была вызвана в контексте 1ой, то переменная n была замкнута в той функции, которую мы возвращаем.
Поэтому в функции 8 хранится значение n. Её замкнуло. Поэтому, мы получаем доступ к этой функции.

![[Pasted image 20221216135256.png]]
1+10

## [[003 JSCore|Назад]]