#### 12. Что такое #JSON? Может ли содержать массив?  
Подробнее: [Что такое JSON](https://habr.com/ru/post/554274/)

#JSON (англ. _JavaScript Object Notation_) — текстовый формат обмена данными, основанный на _JavaScript_. Но при этом формат независим от JS и может использоваться в любом языке программирования.

JSON используется в #REST API.
Возьмем пример из [документации подсказок Дадаты по ФИО](https://confluence.hflabs.ru/pages/viewpage.action?pageId=204669115):

```
{
  "query": "Виктор Иван",
  "count": 7
}
```

И разберемся, что означает эта запись.

Объект заключен в фигурные скобки {}
![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/acd/1a0/b3e/acd1a0b3e42086178942fcc0c0fd8d1b.png)

#JSON-объект — это неупорядоченное множество пар _«ключ:значение»_.

#Ключ — это название параметра, который мы передаем серверу. Он служит маркером для принимающей запрос системы: «смотри, здесь у меня значение такого-то параметра!». А иначе как система поймет, где что? Ей нужна подсказка!

Давайте снова начнем с примера. Это массив:

```
[ "MALE", "FEMALE" ]
```

Массив заключен в квадратные скобки []

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/5b1/c5f/800/5b1c5f800d9c612a1b27e87be3cc0297.png)

Внутри квадратных скобок идет набор значений. Тут нет ключей, как в объекте, поэтому обращаться к массиву можно только по номеру элемента. И поэтому в случае массива менять местами данные внутри нельзя. Это упорядоченное множество значений.

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/f7b/4b1/af8/f7b4b1af8f617aa9ca89fe15124863ed.png)

Значения разделены запятыми:

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/760/c8f/f7a/760c8ff7ab4e88155efae8faeb46b689.png)

**Значения внутри**
Внутри массива может быть все, что угодно:

**Цифры**
```
[ 1, 5, 10, 33 ]
```

**Строки**
```
[ "MALE", "FEMALE" ]
```

**Смесь**
```
[ 1, "Андрюшка",  10, 33 ]
```

**Объекты**

Да, а почему бы и нет:
```
[1, {a:1, b:2}, "такой вот массивчик"]
```

Или даже что-то более сложное. Вот пример ответа подсказок из Дадаты:
```
[
        {
            "value": "Иванов Виктор",
            "unrestricted_value": "Иванов Виктор",
            "data": {
                "surname": "Иванов",
                "name": "Виктор",
                "patronymic": null,
                "gender": "MALE"
            }
        },
        {
            "value": "Иванченко Виктор",
            "unrestricted_value": "Иванченко Виктор",
            "data": {
                "surname": "Иванченко",
                "name": "Виктор",
                "patronymic": null,
                "gender": "MALE"
            }
        },
        {
            "value": "Виктор Иванович",
            "unrestricted_value": "Виктор Иванович",
            "data": {
                "surname": null,
                "name": "Виктор",
                "patronymic": "Иванович",
                "gender": "MALE"
            }
        }
]
```

Система возвращает массив подсказок. Сколько запросили в параметре _count_, столько и получили. Каждая подсказка — объект, внутри которого еще один объект. И это далеко не сама сложная структура! Уровней вложенности может быть сколько угодно — массив в массиве, который внутри объекта, который внутри массива, который внутри объекта...

Ну и, конечно, можно и наоборот, передать массив в объекте. Вот пример запроса в подсказки:
```
{
"query": "Виктор Иван",
"count": 7,
"parts": ["NAME", "SURNAME"]
}
```

Это объект (так как в фигурных скобках и внутри набор пар «ключ:значение»). А значение ключа _"parts"_ — это массив элементов!

**Итого**

Массив — это просто набор значений, разделенных запятыми. Находится внутри квадратных скобок [].
А вот внутри него может быть все, что угодно:
-   числа
-   строки
-   другие массивы
-   объекты
-   смесь из всего вышеназванного

[Формат JSON, метод toJSON](https://learn.javascript.ru/json)