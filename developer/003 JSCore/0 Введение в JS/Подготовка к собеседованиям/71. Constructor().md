# 71. Constructor()

`constructor` - это специальный метод, служащий для создания и инициализации объектов, созданных с использованием `class`.

[Синтаксис](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Classes/constructor#%D1%81%D0%B8%D0%BD%D1%82%D0%B0%D0%BA%D1%81%D0%B8%D1%81)

constructor([arguments]) { ... }

[Описание](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Classes/constructor#%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5)

Конструктор позволяет произвести начальную инициализацию, которая должна быть выполнена до того, как остальные методы будут вызваны.

class Person {

  constructor(name) {

    this.name = name;

  }

  introduce() {

    console.log(`Hello, my name is ${this.name}`);

  }

}

const otto = new Person('Отто');

otto.introduce();

Если вы не определили метод constructor, то будет использован конструктор по умолчанию. Если ваш класс базовый, то конструктор по умолчанию пустой:

constructor() {}

Если ваш класс является производным классом, конструктор по умолчанию вызывает родительский конструктор, передавая любые аргументы, которые были предоставлены:

constructor(...args) {

  super(...args);

}

Это позволяет работать следующему коду:

class ValidationError extends Error {

  printCustomerMessage() {

    return `Проверка не удалась :-( (подробности: ${this.message})`;

  }

}

try {

  throw new ValidationError("Неправильный номер телефона");

} catch (error) {

   if (error instanceof ValidationError) {

    console.log(error.name); // Это Error вместо ValidationError!

    console.log(error.printCustomerMessage());

  } else {

    console.log('Неизвестная ошибка', error);

    throw error;

  }

}

`ValidationError` классу не нужен явный (explicit) конструктор, потому что не требуется инициализация. Затем, конструктор по умолчанию позаботится об инициализации родительского класса `Error`, переданным ему аргументом.

Однако, если определён ваш собственный конструктор и класс является производным от какого-либо родительского класса, то вы должны явно объявить конструктор родительского класса, используя `super`. К примеру:

class ValidationError extends Error {

  constructor(message) {

    super(message);  // вызов конструктора родительского класса

    this.name = 'ValidationError';

    this.code = '42';

  }

  printCustomerMessage() {

     return `Проверка не удалась :-( (подробности: ${this.message}, code: ${this.code})`;

  }

}

try {

  throw new ValidationError("Неправильный номер телефона");

} catch (error) {

   if (error instanceof ValidationError) {

    console.log(error.name); // Теперь это ValidationError!

    console.log(error.printCustomerMessage());

  } else {

    console.log('Неизвестная ошибка', error);

    throw error;

  }

}

В классе может быть только один метод с именем "`constructor`". Если класс содержит более одного `constructor`, будет сгенерировано исключение [`SyntaxError`](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError).
