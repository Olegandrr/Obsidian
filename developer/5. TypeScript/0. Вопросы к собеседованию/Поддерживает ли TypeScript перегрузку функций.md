____

tags: #TypeScript #overload 

links: [[Карманная книга по TS. Часть 4. Подробнее о функциях]]

[[5. TypeScript |На главную]]

![Поддерживает ли TypeScript перегрузку функций?](https://youtu.be/TOn-1RrowKE?t=77)

keywords:

Перегрузка функции #overload - это способ определить функцию с несколькими вариантами типов и реализаций. Перегруженная функция может иметь несколько определений, которые отличаются по количеству и типу параметров.

```typescript
function add(a: string, b: string): string;
function add(a: number, b: number): number;
function add(a: any, b: any): any {
	return a + b;
}
```

_____

TypeScript поддерживает перегрузку функций, то есть возможность определения нескольких версий функции с разными параметрами и возвращаемыми значениями. Это позволяет определять функции, которые могут принимать различные типы аргументов и возвращать различные типы значений в зависимости от переданных параметров.

Перегрузка функций работает путем определения нескольких сигнатур функций, которые определяют разные типы параметров и возвращаемых значений. Когда функция вызывается, TypeScript автоматически выбирает соответствующую сигнатуру функции на основе переданных аргументов.

Например, рассмотрим пример функции `sum`, которая может принимать два числовых параметра или два строковых параметра и возвращает их сумму в виде числа или строки соответственно:

~~~typescript
function sum(a: number, b: number): number;
function sum(a: string, b: string): string;
function sum(a: any, b: any): any {
 if (typeof a === 'number' && typeof b === 'number') {
    return a + b;
  } else if (typeof a === 'string' && typeof b === 'string') {
    return a.concat(b);
  } else {
    throw new Error('Invalid arguments');
  }
}

console.log(sum(1, 2)); // output: 3
console.log(sum('hello', 'world')); // output: helloworld
~~~

В этом примере определены три сигнатуры функции `sum`. Первые две сигнатуры определяют функцию `sum` с числовыми и строковыми параметрами и возвращаемыми значениями соответственно. Третья сигнатура определяет общую функцию `sum`, которая принимает любые параметры и возвращает любые значения.

Когда функция `sum` вызывается, TypeScript автоматически выбирает соответствующую сигнатуру функции на основе переданных аргументов. Например, вызов `sum(1, 2)` выбирает первую сигнатуру функции, а вызов `sum('hello', 'world')` выбирает вторую сигнатуру функции. Если переданные параметры не соответствуют ни одной из определенных сигнатур, то выбрасывается исключение.

Перегрузка функций позволяет улучшить типизацию кода и предотвратить ошибки во время выполнения программы. Она также улучшает читаемость кода, так как позволяет определить функции с различными параметрами и возвращаемыми значениями в одном месте вместо использования разных имен функций.