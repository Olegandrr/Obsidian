____

tags: #TS

links: [[]]

youtube: 
1. [Что такое декораторы в TypeScript?](https://youtu.be/VYQl2GhbCUs?t=29)

keywords:

_____

Декораторы - это специальная функциональность TypeScript, которая позволяет добавлять метаданные и изменять поведение классов, методов, свойств и других элементов кода во время компиляции. Декораторы в TypeScript используются для создания аспектно-ориентированного программирования (AOP) и для расширения поведения объектов во время выполнения.

Декораторы определяются с помощью символа `@` перед названием функции-декоратора и применяются к элементам кода, таким как классы, свойства и методы. Вот пример применения декоратора к классу:

```
function log(target: Function) {
  console.log(`Class ${target.name} was created.`);
}

@log
class MyClass {
  constructor() {
    console.log('Creating an instance of MyClass...');
  }
}

const myClass = new MyClass(); // Output: 'Class MyClass was created.' 'Creating an instance of MyClass...'
```

В этом примере мы определили функцию-декоратор `log()`, которая принимает объект класса в качестве параметра и выводит сообщение в консоль при создании экземпляра класса. Затем мы применили декоратор `@log` к классу `MyClass`, чтобы вызвать функцию-декоратор при создании экземпляра класса.

Декораторы также могут принимать параметры и быть цепочкой вызовов. Вот пример применения декоратора к методу с параметром:

```
function validateParam(target: any, propertyKey: string, descriptor: PropertyDescriptor) {
  const originalMethod = descriptor.value;
  descriptor.value = function (...args: any[]) {
    if (args[0] <= 0) {
      throw new Error('Parameter must be greater than 0.');
    }
    return originalMethod.apply(this, args);
  };
}

class Calculator {
  @validateParam
  public square(n: number) {
    return n * n;
  }
}

const calculator = new Calculator();
console.log(calculator.square(5)); // Output: 25
console.log(calculator.square(-5)); // Error: 'Parameter must be greater than 0.'
```

В этом примере мы определили функцию-декоратор `validateParam()`, которая проверяет параметр метода `square()` на соответствиетребованиям и выбрасывает исключение, если параметр меньше или равен нулю. Затем мы применили декоратор `@validateParam` к методу `square()`, чтобы вызвать функцию-декоратор при вызове метода.

Декораторы могут быть использованы для множества целей, таких как:

-   Добавление метаданных к классам и их элементам (свойствам и методам)
-   Расширение функциональности классов и их элементов
-   Применение аспектно-ориентированного программирования (AOP)
-   Использование в качестве альтернативы наследованию и миксинам

Несмотря на то, что декораторы предоставляют множество возможностей для расширения поведения объектов, их использование может привести к усложнению кода и снижению производительности. Поэтому следует использовать декораторы с осторожностью и только там, где они действительно необходимы.Для уточнения, декораторы не являются уникальной функциональностью TypeScript, они были введены в ECMAScript 2016 (ES6) и доступны в JavaScript с использованием современных браузеров или с помощью инструментов транспиляции, таких как Babel. TypeScript расширяет возможности декораторов JavaScript, добавляя поддержку типов и дополнительный синтаксис для использования декораторов с TypeScript-специфичными функциями, такими как декорирование параметров функций и декорирование параметров конструкторов классов.